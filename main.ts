namespace SpriteKind {
    export const button = SpriteKind.create()
    export const minebutton = SpriteKind.create()
}
tiles.setCurrentTilemap(tilemap`level1`)
let mine_button = sprites.create(img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    44444444444444444444444444444444
    ................................
    ................................
    .........eeeee.e.eee.ee.........
    .........e.e.e.e.e.e.e..........
    eeeeeee..e.e.e.e.e.e.ee..eeeeeee
    eeeeeee..e.e.e.e.e.e.e...eeeeeee
    .........e.e.e.e.e.e.e..........
    .........e.e.e.e.e.e.ee.........
    ................................
    ................................
    44444444444444444444444444444444
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    `, SpriteKind.minebutton)
mine_button.setPosition(20, 10)
let mySprite = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . d d . . . . . . . 
    . . . . . . . d d . . . . . . . 
    . . . . . . . d d . . . . . . . 
    . . . . d d d 1 1 d d d . . . . 
    . . . . d d d 1 1 d d d . . . . 
    . . . . . . . d d . . . . . . . 
    . . . . . . . d d . . . . . . . 
    . . . . . . . d d . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
controller.moveSprite(mySprite)
let list = [
0,
1,
1,
0,
4,
2,
0,
0,
3
]
let statusbar = statusbars.create(32, 3, StatusBarKind.Health)
statusbar.attachToSprite(mine_button, -8, 0)
statusbar.positionDirection(CollisionDirection.Bottom)
statusbar.value = 0
statusbar.setColor(5, 11)
statusbar.max = 100
forever(function () {
    if (mySprite.overlapsWith(mine_button)) {
        animation.runImageAnimation(
        mine_button,
        [img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            11111111111111111111111111111111
            44444444444444444444444444444444
            11111111111111111111111111111111
            11111111111111111111111111111111
            111111111eeeee1e1eee1ee111111111
            111111111e1e1e1e1e1e1e1111111111
            eeeeeee11e1e1e1e1e1e1ee11eeeeeee
            eeeeeee11e1e1e1e1e1e1e111eeeeeee
            111111111e1e1e1e1e1e1e1111111111
            111111111e1e1e1e1e1e1ee111111111
            11111111111111111111111111111111
            11111111111111111111111111111111
            44444444444444444444444444444444
            11111111111111111111111111111111
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            `],
        100,
        true
        )
        if (controller.A.isPressed()) {
            for (let index = 0; index < 100; index++) {
                pause(10)
                statusbar.value += 1
            }
            statusbar.value = 0
            info.changeScoreBy(1)
        }
    } else {
        animation.runImageAnimation(
        mine_button,
        [img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            44444444444444444444444444444444
            ................................
            ................................
            .........eeeee.e.eee.ee.........
            .........e.e.e.e.e.e.e..........
            eeeeeee..e.e.e.e.e.e.ee..eeeeeee
            eeeeeee..e.e.e.e.e.e.e...eeeeeee
            .........e.e.e.e.e.e.e..........
            .........e.e.e.e.e.e.ee.........
            ................................
            ................................
            44444444444444444444444444444444
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            `],
        100,
        true
        )
    }
})
